<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartFit | Intelligent Fitness Guide</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    
    <style>
        /* --- CSS STYLES --- */
        :root {
            --primary: #10b981;
            --primary-hover: #059669;
            --bg-color: #f3f4f6;
            --card-bg: #ffffff;
            --text-main: #1f2937;
            --text-muted: #6b7280;
            --border: #e5e7eb;
            --danger: #ef4444;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        body.dark-mode {
            --bg-color: #111827;
            --card-bg: #1f2937;
            --text-main: #f9fafb;
            --text-muted: #d1d5db;
            --border: #374151;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; transition: background 0.3s, color 0.3s; }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg-color); color: var(--text-main); line-height: 1.6; }
        .container { max-width: 1000px; margin: 0 auto; padding: 0 20px; }
        .hidden { display: none !important; }
        .navbar { padding: 20px 0; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-weight: 800; font-size: 1.5rem; color: var(--primary); }
        .disclaimer-bar { background: #fee2e2; color: #991b1b; padding: 10px 0; font-size: 0.85rem; text-align: center; border-bottom: 1px solid #fca5a5; }
        .btn-primary { background: var(--primary); color: white; border: none; padding: 12px 24px; border-radius: 8px; font-weight: 600; cursor: pointer; font-size: 1rem; width: 100%; margin-top: 10px;}
        .btn-outline { background: transparent; border: 2px solid var(--text-muted); color: var(--text-main); padding: 8px 16px; border-radius: 6px; cursor: pointer; }
        .form-card { background: var(--card-bg); padding: 30px; border-radius: 16px; box-shadow: var(--shadow); max-width: 500px; margin: 40px auto; }
        .form-group { margin-bottom: 15px; text-align: left; }
        label { display: block; margin-bottom: 5px; font-weight: 600; font-size: 0.9rem; }
        input, select { width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px; background: var(--bg-color); color: var(--text-main); }
        .grid-layout { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; margin-top: 20px; }
        .card { background: var(--card-bg); padding: 24px; border-radius: 16px; box-shadow: var(--shadow); border: 1px solid var(--border); }
        .gauge-container { height: 12px; background: linear-gradient(90deg, #3b82f6 0%, #10b981 35%, #eab308 70%, #ef4444 100%); border-radius: 6px; position: relative; margin: 20px 0; }
        .gauge-marker { width: 4px; height: 20px; background: var(--text-main); position: absolute; top: -4px; }
        .workout-table { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 0.9rem; }
        .workout-table th, .workout-table td { text-align: left; padding: 10px; border-bottom: 1px solid var(--border); }
        .check-list li { list-style: none; padding: 5px 0; border-bottom: 1px solid var(--border); font-size: 0.95rem;}
        .alert-box { background: #fff7ed; border-left: 4px solid #f97316; padding: 10px; margin-top: 10px; color: #9a3412; font-size: 0.85rem;}
    </style>
</head>
<body>

    <nav class="navbar container">
        <div class="logo">SmartFit üáπüá≥</div>
        <button id="theme-toggle" class="btn-outline">Toggle Mode</button>
    </nav>

    <div class="disclaimer-bar">
        <div class="container"><strong>‚ö†Ô∏è Disclaimer:</strong> Educational guidance only. Consult a doctor.</div>
    </div>

    <main class="container">
        <section id="hero-section" style="text-align: center; padding: 80px 0;">
            <h1>Fitness Made Simple.</h1>
            <p style="margin: 20px 0; color: var(--text-muted);">Get your Tunisian-inspired nutrition and workout plan in 1 minute.</p>
            <button class="btn-primary" style="max-width: 250px;" onclick="app.transitionTo('input-section')">Start Now</button>
        </section>

        <section id="input-section" class="hidden">
            <div class="form-card">
                <h2>Your Stats</h2>
                <div class="form-group">
                    <label>Weight (kg)</label>
                    <input type="number" id="weight" placeholder="75">
                </div>
                <div class="form-group">
                    <label>Height (cm)</label>
                    <input type="number" id="height" placeholder="175">
                </div>
                <div class="form-group">
                    <label>Goal</label>
                    <select id="goal">
                        <option value="lose">Weight Loss</option>
                        <option value="gain">Muscle Gain</option>
                        <option value="health">General Health</option>
                    </select>
                </div>
                <button class="btn-primary" onclick="app.generatePlan()">Get My Plan</button>
            </div>
        </section>

        <section id="dashboard-section" class="hidden">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h2>Your Plan</h2>
                <button class="btn-outline" onclick="app.transitionTo('input-section')">Edit</button>
            </div>

            <div class="grid-layout">
                <div class="card">
                    <h3>üìä BMI Analysis</h3>
                    <p id="bmi-val" style="font-size: 2rem; font-weight: 800; color: var(--primary);">--</p>
                    <p id="bmi-status" style="font-weight: 600;">--</p>
                    <div class="gauge-container"><div id="bmi-marker" class="gauge-marker"></div></div>
                    <div id="health-alert" class="alert-box hidden"></div>
                </div>

                <div class="card">
                    <h3>ü•ó Nutrition (TN)</h3>
                    <p id="macro-info" style="color: var(--primary); font-weight: 600; margin-bottom: 10px;"></p>
                    <ul id="meal-list" class="check-list"></ul>
                </div>

                <div class="card" style="grid-column: 1 / -1;">
                    <h3>üèãÔ∏è Workout Routine</h3>
                    <table class="workout-table">
                        <thead><tr><th>Exercise</th><th>Sets</th><th>Reps</th><th>Rest</th></tr></thead>
                        <tbody id="workout-rows"></tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>

    <script>
        /* --- JAVASCRIPT LOGIC --- */
        const app = {
            data: {
                nutrition: {
                    lose: { title: "Fat Loss Plan", meals: ["Breakfast: Bsissa (water base)", "Lunch: Grilled Fish + Mechouia", "Dinner: Vegetable Soup (Chorba)"] },
                    gain: { title: "Muscle Build Plan", meals: ["Breakfast: Oats + Dates + Milk", "Lunch: Couscous + Chicken", "Dinner: Lablabi + 2 Eggs"] },
                    health: { title: "Balanced Plan", meals: ["Breakfast: Eggs + Olive Oil", "Lunch: Turkey Escalope + Rice", "Dinner: Tunisian Salad + Tuna"] }
                },
                exercises: ["Bodyweight Squats", "Push-ups", "Lunges", "Plank Hold", "Glute Bridges"]
            },

            init: () => {
                document.getElementById('theme-toggle').onclick = () => document.body.classList.toggle('dark-mode');
            },

            transitionTo: (id) => {
                document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
                document.getElementById(id).classList.remove('hidden');
                window.scrollTo(0,0);
            },

            generatePlan: () => {
                const w = parseFloat(document.getElementById('weight').value);
                const h = parseFloat(document.getElementById('height').value);
                const g = document.getElementById('goal').value;

                if(!w || !h) return alert("Enter weight and height!");

                // BMI
                const bmi = (w / ((h/100)**2)).toFixed(1);
                document.getElementById('bmi-val').innerText = bmi;
                
                let pos = 50; let status = "Normal";
                const alertBox = document.getElementById('health-alert');
                alertBox.classList.add('hidden');

                if(bmi < 18.5) { pos = 10; status = "Underweight"; alertBox.classList.remove('hidden'); alertBox.innerText = "Focus on increasing calories."; }
                else if(bmi > 25 && bmi < 29.9) { pos = 75; status = "Overweight"; }
                else if(bmi >= 30) { pos = 95; status = "Obese"; alertBox.classList.remove('hidden'); alertBox.innerText = "Consult a doctor for a safe heart-rate range.";}
                
                document.getElementById('bmi-status').innerText = status;
                document.getElementById('bmi-marker').style.left = pos + "%";

                // Nutrition
                const nutr = app.data.nutrition[g];
                document.getElementById('macro-info').innerText = nutr.title;
                const list = document.getElementById('meal-list');
                list.innerHTML = nutr.meals.map(m => `<li>${m}</li>`).join('');

                // Workouts
                const reps = g === 'lose' ? "15-20" : "8-12";
                const rows = app.data.exercises.map(ex => `<tr><td>${ex}</td><td>3</td><td>${reps}</td><td>60s</td></tr>`).join('');
                document.getElementById('workout-rows').innerHTML = rows;

                app.transitionTo('dashboard-section');
            }
        };
        app.init();
    </script>
</body>
</html>